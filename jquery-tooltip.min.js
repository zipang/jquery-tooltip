(function(e){function n(e,t,n){var r=t.offset();n=="top"?e.addClass("top").css({position:"absolute",top:r.top-e.height()-5+"px",left:r.left+t.width()/2-e.width()/2+"px"}):n=="bottom"&&e.addClass("bottom").css({position:"absolute",top:r.top+t.height()+e.height()+5+"px",left:r.left+t.width()/2-e.width()/2+"px"})}function r(t){var n=t.find(".tooltip");if(n.length==0){var r=t.attr("title")||t.data("tooltip");if(!r)return!1;t.removeAttr("title"),n=e("<div>").addClass("tooltip").text(r)}return n.data("state","hidden").hide().insertAfter(t)}function i(e){this.$elt=e}var t={delay:500,fadeIn:1e3,fadeOut:500,position:"bottom",extract:r};i.prototype={pin:function(){return this.$elt.data("state","pinned")},unpin:function(){return this.$elt.data("state","visible")}},e.fn.tooltip=function(s,o,u){var a=e.extend({},t,typeof s=="object"?s:{delay:s,fadeIn:o,fadeOut:u});return e(this).each(function(t,s){var o=e(s),u=typeof a.tooltip=="function"?a.tooltip(o):r(o);if(!u)return!0;var f=function(){typeof a.position=="function"?a.position(u,o):n(u,o,a.position),u.fadeIn(a.fadeIn,function(){u.data("state","visible")})},l=function(){u.fadeOut(a.fadeOut,function(){u.data("state","hidden")})};o.data("tooltip",new i(u)).hover(function(){u.data("state")=="hidden"&&(u.data("state","wait"),setTimeout(f,a.delay))},function(){var e=u.data("state");if(e=="pinned")return;e=="wait"?u.data("state","hidden"):l()})})}})(jQuery);